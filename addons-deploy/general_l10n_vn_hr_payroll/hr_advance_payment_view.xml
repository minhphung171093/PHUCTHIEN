<openerp>
    <data>
    	<!--Advance Payment-->
        <record model="ir.ui.view" id="view_hr_advance_payment_tree">
			<field name="name">hr.advance.payment.tree</field>
			<field name="model">hr.advance.payment</field>
			<field name="type">tree</field>
			<field name="arch" type="xml">
				<tree string="Advance Payment" editable='top' colors="grey:state=='cancel';blue:state=='draft'">		
					<field name="employee_id"/>
					<field name="department_id"/>
					<field name="date"/>
					<field name="amount"/>
					<field name="currency_id"/>
					<field name="exchange_rate"/>
					<field name="name"/>
					<field name="user_id"/>
					<field name="approved_by"/>
					<button name="action_confirm" states="draft" string="Confirm" type="object" icon='gtk-apply'/>
                    <button name="action_cancel" states="confirmed" string="Cancel Order" type="object" icon='gtk-cancel'/>
                    <button name="set_to_draft" states="cancel" string="Set to draft" type="object" icon='gtk-undo'/>
                    <field name="state"/>
				</tree>
			</field>
		</record>
		
		<record model="ir.ui.view" id="view_hr_advance_payment_form">
			<field name="name">hr.advance.payment.form</field>
			<field name="model">hr.advance.payment</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<form string="Advance Payment" version="7.0">
					<header>
                        <button name="action_confirm" states="draft" string="Confirm" type="object" class="oe_highlight"/>
                        <button name="action_cancel" states="confirmed" string="Cancel Order" type="object"/>
                        <button name="set_to_draft" states="cancel" string="Set to draft" type="object"/>
                        <field name="state" widget="statusbar" statusbar_visible="draft,confirmed,cancel" statusbar_colors='{"cancel":"red","draft":"blue"}'/>
	                </header>
	                <sheet>							
						<field name="employee_id"/>
						<field name="date"/>
						<field name="amount"/>
						<field name="currency_id"/>
						<field name="exchange_rate"/>
						<field name="user_id"/>
						<field name="approved_by"/>
						<field name="name"/>
					</sheet>
				</form>
			</field>
		</record>
		
		<record model="ir.ui.view" id="view_hr_advance_payment_search">
			<field name="name">hr.advance.payment.search</field>
			<field name="model">hr.advance.payment</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<search string="Search Advance Payment">
                    <field name="date"/>
                    <field name="employee_id"/>
                    <field name="department_id"/>
                    <group expand="0" string="Group By...">
                        <filter string="Employees" icon="terp-personal" name="employee_id" context="{'group_by':'employee_id'}"/>
                        <filter string="Department" icon="terp-personal" name="department_id" context="{'group_by':'department_id'}"/>
                    </group>
                </search>
			</field>
		</record>
		
		<record model="ir.actions.act_window" id="action_hr_advance_payment">
			<field name="name">Advance Payment</field>
			<field name="res_model">hr.advance.payment</field>
			<field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="search_view_id" ref="view_hr_advance_payment_search"/>
		</record>
		
		 <menuitem action="action_hr_advance_payment" id="menu_action_hr_advance_payment" parent="hr_payroll.menu_hr_root_payroll" sequence="0"/>                  
    </data>
</openerp>