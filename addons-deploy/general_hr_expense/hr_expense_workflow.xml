<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>

	<!-- Add a note to work-flow for 2 lv approval -->
		<record id="act_head_accepted" model="workflow.activity">
            <field name="wkf_id" ref="hr_expense.wkf_expenses"/>
            <field name="name">head_accepted</field>
            <field name="kind">function</field>
            <field name="action">head_accepted()</field>
        </record>
        
        <record id="hr_expense.t8" model="workflow.transition">
            <field name="act_from" ref="hr_expense.act_accepted"/>
            <field name="act_to" ref="act_head_accepted"/>
            <field name="signal">head_validate</field>
        </record>
        
        <!-- No need to click on button Generate Entries -->
	        <record id="t8_1" model="workflow.transition">
	            <field name="act_from" ref="act_head_accepted"/>
	            <field name="act_to" ref="hr_expense.act_done"/>
	            <field name="signal">done</field>
	        </record>
    	
    	<!-- Normal User can Refuse Expense, Remove HR Officer -->
    		<record id="hr_expense.t6" model="workflow.transition">
	            <field name="act_from" ref="hr_expense.act_accepted"/>
	            <field name="act_to" ref="hr_expense.act_refused"/>
	            <field name="signal">refuse</field>
	            <field name="group_id"></field>
	        </record>
        
    	<!-- Head can refuse the expense -->
    		<record id="t_head_refuse" model="workflow.transition">
	            <field name="act_from" ref="act_head_accepted"/>
	            <field name="act_to" ref="hr_expense.act_refused"/>
	            <field name="signal">refuse</field>
	        </record>
        
    <!-- Auto move to Waiting for payment Status, bypass original button Generate Entries -->
    	<record id="hr_expense.act_done" model="workflow.activity">
            <field name="wkf_id" ref="hr_expense.wkf_expenses"/>
            <field name="name">done</field>
            <field name="kind">function</field>
            <field name="action">write({'state':'done'})</field>
        </record>
        
    </data>
</openerp>
